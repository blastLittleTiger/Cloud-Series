# 进程管理

在容器中，1 号进程一般是 entry point 进程，针对上面这种 将孤儿进程的父进程置为 1 号进程进而避免僵尸进程 处理方式，容器是处理不了的。进而就会导致容器中在孤儿进程这种异常场景下僵尸进程无法彻底处理的窘境。所以说，容器的单进程模型的本质其实是容器中的 1 号进程并不具有管理多进程、多线程等复杂场景下的能力。如果一定在容器中处理这些复杂情况的，那么需要开发者对 entry point 进程赋予这种能力。这无疑是加重了开发者的心智负担，这是任何一项大众技术或者平台框架都不愿看到的尴尬之地。

Kubernetes 中可以将多个容器编排到一个 Pod 里面，共享同一个 Linux NameSpace。这项技术的本质是使用 Kubernetes 提供一个 pause 镜像，展开来说就是先用 pause 镜像实例化出 NameSpace，然后其他容器加入这个 NameSpace 从而实现 NameSpace 共享。pause 是 Kubernetes 在 1.16 版本引入的技术，要使用 pause，我们只需要在 Pod 创建的 yaml 中指定 shareProcessNamespace 参数为 true，如下：

# 链接

- https://mp.weixin.qq.com/s/cRSDMnRsMcCdNmW-xmRobQKubernetes 提取最后的 pause 进程共享实验